<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vignette: genevoisgame • genevoisgame</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Vignette: genevoisgame">
<meta property="og:description" content="genevoisgame">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">genevoisgame</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/genevoisgame-vignette.html">Vignette: genevoisgame</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Vignette: genevoisgame</h1>
            
      
      
      <div class="hidden name"><code>genevoisgame-vignette.Rmd</code></div>

    </div>

    
    
<p>This package is designed to allow simulation of a non-cooperative game theoretic model that evaluates whether or not two parties will agree to sign a treaty over a shared transboundary aquifer. The model incorporates geophysical, economic, and social features of the transboundary scenario to make this determination. These include aquifer connectivity and drawdown, the cost of abstracting groundwater and potential alternative sources, and trust between the players.</p>
<p><strong>Note:</strong> The models implemented in this package are currently in review at <em>Water Resources Research</em>. The variable naming conventions in the paper differ slightly from the naming convention in the package. See the final section of this vignette for guide linking the two.</p>
<div id="background" class="section level2">
<h2 class="hasAnchor">
<a href="#background" class="anchor"></a>Background</h2>
<p>The game is based on the Genevois aquifer, shared by Switzerland and France, where an important and influential groundwater sharing treaty has existed since the 1970s. Thus, in the game, the two players are refered to S and F representing these two countries.</p>
<p>Utilities for Switzerland and France are given by: <span class="math display">\[U_i(q_s,q_f)=-p_{0i}(Q_i-q_i)-\beta (d_{Bi}-h_i) q_i - c_{0rs} - c_{ri}r_M(\Omega)-\epsilon_i(\Omega)\pm z\]</span> where <span class="math inline">\(q_i\)</span> is the water abstracted by country <span class="math inline">\(i\)</span>, <span class="math inline">\(p_{0i}\)</span> is the unit cost of water from some alternative water source, <span class="math inline">\(Q_i\)</span> is the total water requirement, <span class="math inline">\(d_{Bi}-h_i\)</span> is the groundwater depth (calculated as the depth to the bottom of the aquifer, <span class="math inline">\(d_{Bi}\)</span>, minus hydraulic thickness of the water table, <span class="math inline">\(h_i\)</span>), <span class="math inline">\(\beta\)</span> is the volumetric pumping cost per groundwater depth, <span class="math inline">\(c_{0rs}\)</span> is a fixed cost for building the recharge facility, <span class="math inline">\(c_{ri}\)</span> is the unit cost of recharge (because France doesn’t pay directly, <span class="math inline">\(c_{0rf}=c_{rf}=0\)</span>), <span class="math inline">\(r_M(\Omega)\)</span> is managed aquifer recharge and is high (low) if <span class="math inline">\(\Omega=1\)</span> (<span class="math inline">\(\Omega=0\)</span>), <span class="math inline">\(\epsilon_i\)</span> accounts for uncertain costs of signing the treaty and is zero in the case of no treaty, and <span class="math inline">\(z\)</span> is the price paid by France to Switzerland for French abstraction per the agreement. Because recharge is limited by physical properties of water supply and the aquifer, we assume that the construction of a recharge facility entails a fixed quantity of recharge, <span class="math inline">\(r_M\)</span>. The hydraulic thickness of the water table is the hydraulic head relative to the bottom of the aquifer. In confined aquifers, the hydraulic thickness is greater than the aquifer thickness and changes linearly with pumping. It is given by <span class="math display">\[ h_i=h_{0i}-D_{ii} q_i-D_{ij} q_j+D_{ir}(\Omega) r_M(\Omega),\]</span> where <span class="math inline">\(h_{0i}\)</span> is the natural thickness of the water table accounting for steady-state recharge and discharge, and the remaining coefficients capture aquifer properties that relate groundwater depth with abstraction within country <span class="math inline">\(i\)</span> (<span class="math inline">\(D_{ii}\)</span>), abstraction by country <span class="math inline">\(j\)</span> (<span class="math inline">\(D_{ij}\)</span>), and managed recharge (<span class="math inline">\(D_{ir}\)</span>).</p>
<p>For unconfined aquifers, abstraction is related linearly with discharge potential, <span class="math inline">\(\phi_i\)</span>, which is equivalent to the square of the thickness of the water table, which is given by <span class="math display">\[h_i^2=\phi_i=h_{0i}^2-\Phi_{ii}q_i-\Phi_{ij}q_j+\Phi_{ir}(\Omega)r_M(\Omega),\]</span> where the coefficients relate discharge potential with abstraction by country <span class="math inline">\(i\)</span> (<span class="math inline">\(\Phi_{ii}\)</span>), abstraction by country <span class="math inline">\(j\)</span> (<span class="math inline">\(\Phi_{ij}\)</span>), and managed recharge (<span class="math inline">\(\Phi_{ir}\)</span>).</p>
</div>
<div id="confined-aquifer-trust-vs-trust" class="section level2">
<h2 class="hasAnchor">
<a href="#confined-aquifer-trust-vs-trust" class="anchor"></a>Confined aquifer: trust vs trust</h2>
<p>This vignette will show you the basic utilization of the package. If you haven’t installed the <code>genevoisgame</code> package, you can do so using <code><a href="https://rdrr.io/pkg/devtools/man/remote-reexports.html">devtools::install_github</a></code>:</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="co"># Install the package</span>
<span class="kw pkg">devtools</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/devtools/man/remote-reexports.html">install_github</a></span>(<span class="st">"https://github.com/gopalpenny/genevoisgame"</span>)</pre></body></html></div>
<p>Next we will load the package along with some of the <code>tidyverse</code> packages for easy data wrangling.</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">genevoisgame</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">dplyr</span>)
<span class="co">#&gt; Warning: package 'dplyr' was built under R version 3.6.2</span>
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">tidyr</span>)
<span class="co">#&gt; Warning: package 'tidyr' was built under R version 3.6.2</span>
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ggplot2</span>)</pre></body></html></div>
<p>We will use the built-in dataset <code>example_params_confined</code> as a basis for our analysis. Whenever a treaty game is simulated, parameters are validated using the <code>check_params</code> function, and a full list of required parameters can be found in the documentation for this function. The game determines whether to use a confined or unconfined scenario using the parameters input to the game. If <code>Dxx</code> are used, the game will apply to a <em>confined</em> aquifer. If <code>PHIxx</code> are used, the game will apply to an <em>unconfined</em> aquifer. See <code><a href="../reference/check_params.html">?check_params</a></code> for details.</p>
<p>The game is evaluated using <code>evaluate_treaty</code> for a single scenario, or can be evaluated for multiple scenarios using <code>evaluate_treaty_cases</code>. For confined aquifers, the game is analyzed using analytical equations.</p>
<p>In order to plot contour lines of the outcomes, we will use the function <code>get_contours</code>, which is part of the <code>genevoisgame</code> package.</p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="co"># Generate parameter data.frame</span>
<span class="no">params_basic_trust_v_trust</span> <span class="kw">&lt;-</span> <span class="no">example_params_confined</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(-<span class="no">gf</span>,-<span class="no">gs</span>)
<span class="no">params_df_trust_v_trust</span> <span class="kw">&lt;-</span> <span class="no">params_basic_trust_v_trust</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/expand.html">crossing</a></span>(<span class="kw">gs</span><span class="kw">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span>(<span class="fl">0</span>,<span class="fl">1</span>,<span class="kw">by</span><span class="kw">=</span><span class="fl">.05</span>),
           <span class="kw">gf</span><span class="kw">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span>(<span class="fl">0</span>,<span class="fl">1</span>,<span class="kw">by</span><span class="kw">=</span><span class="fl">.05</span>))

<span class="co"># Run the game theoretic model</span>
<span class="no">outcomes_trust_v_trust</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/evaluate_treaty_cases.html">evaluate_treaty_cases</a></span>(<span class="no">params_df_trust_v_trust</span>,<span class="st">"pqud"</span>)

<span class="co"># Get contours for the model</span>
<span class="no">cl_trust_v_trust</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/get_contours.html">get_contours</a></span>(<span class="no">outcomes_trust_v_trust</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span>(<span class="kw">x</span><span class="kw">=</span><span class="no">gs</span>,<span class="kw">y</span><span class="kw">=</span><span class="no">gf</span>,<span class="kw">z</span><span class="kw">=</span><span class="no">zRange</span>),
                                 <span class="kw">levels</span><span class="kw">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(-<span class="fl">0.2</span>,<span class="fl">0</span>,<span class="fl">0.2</span>))

<span class="co"># Plot the output</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>() +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_tile.html">geom_raster</a></span>(<span class="kw">data</span><span class="kw">=</span><span class="no">outcomes_trust_v_trust</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="no">gs</span>,<span class="no">gf</span>,<span class="kw">fill</span><span class="kw">=</span><span class="no">zRange</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_path</a></span>(<span class="kw">data</span><span class="kw">=</span><span class="no">cl_trust_v_trust</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="no">x</span>,<span class="no">y</span>,<span class="kw">group</span><span class="kw">=</span><span class="no">line</span>,<span class="kw">linetype</span><span class="kw">=</span><span class="no">level_factor</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html">scale_fill_gradient2</a></span>() + <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html">coord_equal</a></span>() +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span>(<span class="kw">legend.box</span> <span class="kw">=</span> <span class="st">"horizontal"</span>)</pre></body></html></div>
<p><img src="genevoisgame-vignette_files/figure-html/confined_example-1.png" width="480"></p>
<p>Note that the parameters <code>"pqud"</code> in the <code>evaluate_treaty_cases</code> function returns utility (u), depth (d), pumping (q), and the varying parameters (p). Checking the names of the output <code>outcomes_trust_v_trust</code>, we can see the these values are present for the potential scenarios first best (*hat), nash equilibrium (*star), cheating the other player (*double), victim of the cheat (*hat_double), and cheating by both players (*double_double). The nash equilibrium is the scenario without a treaty. The others involve the signing of a treaty and the combination of players being gentleman or cheats.</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="no">outcomes_trust_v_trust</span>)
<span class="co">#&gt;  [1] "treaty"           "zRange"           "zMinSwiss"       </span>
<span class="co">#&gt;  [4] "zMaxFrench"       "qshat"            "qsstar"          </span>
<span class="co">#&gt;  [7] "qsdouble"         "qfhat"            "qfstar"          </span>
<span class="co">#&gt; [10] "qfdouble"         "Us_hat"           "Us_star"         </span>
<span class="co">#&gt; [13] "Us_double"        "Us_hat_double"    "Us_double_double"</span>
<span class="co">#&gt; [16] "Uf_hat"           "Uf_star"          "Uf_double"       </span>
<span class="co">#&gt; [19] "Uf_hat_double"    "Uf_double_double" "ds_hat"          </span>
<span class="co">#&gt; [22] "ds_star"          "ds_double"        "ds_hat_double"   </span>
<span class="co">#&gt; [25] "ds_double_double" "df_hat"           "df_star"         </span>
<span class="co">#&gt; [28] "df_double"        "df_hat_double"    "df_double_double"</span>
<span class="co">#&gt; [31] "gs"               "gf"</span></pre></body></html></div>
<p>Sometimes it may be valuable to plot the depth, utility, and pumping output along some axis. There is a helper function, <code>gather_outcomes</code> which can help with this. It gathers the output variables in long format so that it can be plotted against another variable. In this case, we are interested in seeing how the outcomes vary over <code>gs</code>, holding <code>gf</code> constant at 0.5.</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="no">outcomes_trust_long</span> <span class="kw">&lt;-</span> <span class="no">outcomes_trust_v_trust</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="no">gf</span><span class="kw">==</span><span class="fl">0.5</span>) <span class="kw">%&gt;%</span> <span class="fu"><a href="../reference/gather_outcomes.html">gather_outcomes</a></span>()</pre></body></html></div>
<p>Using <code>facet_wrap</code> from <code>ggplot2</code> and careful selection of linetypes and colors, we can better see the effect of <code>gs</code> on the outcome variables under scenarios of a treaty (“hat”), nash equlibrium (“star”), cheat (“double”), and victim (“hat_double”).</p>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="no">outcomes_trust_long</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span><span class="kw">=</span><span class="no">gs</span>,<span class="kw">y</span><span class="kw">=</span><span class="no">val</span>,<span class="kw">color</span><span class="kw">=</span><span class="no">country</span>,<span class="kw">linetype</span><span class="kw">=</span><span class="no">variable_subcat</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span>(~<span class="no">variable_cat</span>,<span class="kw">scales</span><span class="kw">=</span><span class="st">"free_y"</span>,<span class="kw">ncol</span><span class="kw">=</span><span class="fl">1</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_linetype_manual</a></span>(<span class="kw">values</span><span class="kw">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"solid"</span>,<span class="st">"dashed"</span>,<span class="st">"dotted"</span>,<span class="st">"longdash"</span>,<span class="st">"dotdash"</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span>(<span class="kw">legend.key.width</span> <span class="kw">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/reexports.html">unit</a></span>(<span class="fl">1</span>,<span class="st">"cm"</span>))</pre></body></html></div>
<p><img src="genevoisgame-vignette_files/figure-html/unnamed-chunk-5-1.png" width="480"></p>
</div>
<div id="unconfined-aquifer-trust-vs-trust" class="section level2">
<h2 class="hasAnchor">
<a href="#unconfined-aquifer-trust-vs-trust" class="anchor"></a>Unconfined aquifer: trust vs trust</h2>
<p>We will now do the same analysis, but using <code>example_params_unconfined</code>, meaning that the game will operate on an unconfined aquifer.</p>
<p>For unconfined aquifers, the underlying game equations are nonlinear and the results are calculated numerically using the <code>multiroot</code> function from the <code>rootSolve</code> package. For this reason, game simulation takes longer for unconfined aquifers. Also note that the results for <code>zRange</code> are rounded to the 6th decimal place to avoid numerical errors in determination of the treaty.</p>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="no">params_basic_trust_v_trust_un</span> <span class="kw">&lt;-</span> <span class="no">example_params_unconfined</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(-<span class="no">gf</span>,-<span class="no">gs</span>)
<span class="no">params_df_trust_v_trust_un</span> <span class="kw">&lt;-</span> <span class="no">params_basic_trust_v_trust_un</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/expand.html">crossing</a></span>(<span class="kw">gs</span><span class="kw">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span>(<span class="fl">0</span>,<span class="fl">1</span>,<span class="kw">by</span><span class="kw">=</span><span class="fl">.2</span>),
           <span class="kw">gf</span><span class="kw">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span>(<span class="fl">0</span>,<span class="fl">1</span>,<span class="kw">by</span><span class="kw">=</span><span class="fl">.2</span>))


<span class="co"># Run the game theoretic model</span>
<span class="no">outcomes_trust_v_trust_un</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/evaluate_treaty_cases.html">evaluate_treaty_cases</a></span>(<span class="no">params_df_trust_v_trust_un</span>)

<span class="co"># Get contours for the model</span>
<span class="no">cl_trust_v_trust_un</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/get_contours.html">get_contours</a></span>(<span class="no">outcomes_trust_v_trust_un</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span>(<span class="kw">x</span><span class="kw">=</span><span class="no">gs</span>,<span class="kw">y</span><span class="kw">=</span><span class="no">gf</span>,<span class="kw">z</span><span class="kw">=</span><span class="no">zRange</span>),
                                    <span class="kw">levels</span><span class="kw">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(-<span class="fl">0.1</span>,-<span class="fl">0.05</span>,<span class="fl">0</span>,<span class="fl">0.05</span>,<span class="fl">0.1</span>))

<span class="co"># Plot the output</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>() +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_tile.html">geom_raster</a></span>(<span class="kw">data</span><span class="kw">=</span><span class="no">outcomes_trust_v_trust_un</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="no">gs</span>,<span class="no">gf</span>,<span class="kw">fill</span><span class="kw">=</span><span class="no">zRange</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_path</a></span>(<span class="kw">data</span><span class="kw">=</span><span class="no">cl_trust_v_trust_un</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="no">x</span>,<span class="no">y</span>,<span class="kw">group</span><span class="kw">=</span><span class="no">line</span>,<span class="kw">linetype</span><span class="kw">=</span><span class="no">level_factor</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html">scale_fill_gradient2</a></span>() + <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html">coord_equal</a></span>() +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span>(<span class="kw">legend.box</span> <span class="kw">=</span> <span class="st">"horizontal"</span>)</pre></body></html></div>
<p><img src="genevoisgame-vignette_files/figure-html/unconfined_example-1.png" width="480"></p>
</div>
<div id="variable-names" class="section level2">
<h2 class="hasAnchor">
<a href="#variable-names" class="anchor"></a>Variable names</h2>
<p>Some variables in the package follow a different naming convention than variables used in the manuscript (and SI) that derive the game that is modeled by the <code>genevoisgame</code> package. For instance, trust in the manuscript is <span class="math inline">\(\lambda_1\)</span> and <span class="math inline">\(\lambda_2\)</span>, whereas trust in the package is <code>gs</code> and <code>gf</code>, respectively. Players 1 and 2 in the manuscript corresponds to Switzerland and France, respectively, in the package. Furthermore, Honest, Nash, and Fraud scenarios of abstraction correspond to <code>hat</code>, <code>star</code>, and <code>double</code> variables in the package. For instance:</p>
<ul>
<li>
<span class="math inline">\(q_1^H \Leftrightarrow \hat q_s\)</span>: <code>qshat</code>
</li>
<li>
<span class="math inline">\(q_1^N \Leftrightarrow q_s^*\)</span>: <code>qsstar</code>
</li>
<li>
<span class="math inline">\(q_1^F \Leftrightarrow q_s^{**}\)</span>: <code>qsdouble</code>
</li>
</ul>
<p>Furthermore, in the package the following variables correspond to specific types of utility:</p>
<ul>
<li>
<code>Us_hat</code>: <span class="math inline">\(U_s(q_s^H,q_f^H)\)</span> // <code>Uf_hat</code>: <span class="math inline">\(U_f(q_s^H,q_f^H)\)</span>
</li>
<li>
<code>Us_star</code>: <span class="math inline">\(U_s(q_s^N,q_f^N)\)</span> // <code>Uf_star</code>: <span class="math inline">\(U_f(q_s^N,q_f^N)\)</span>
</li>
<li>
<code>Us_double</code>: <span class="math inline">\(U_s(q_s^F,q_f^H)\)</span> // <code>Uf_double</code>: <span class="math inline">\(U_f(q_s^H,q_f^F)\)</span>
</li>
<li>
<code>Us_hat_double</code>: <span class="math inline">\(U_s(q_s^H,q_f^F)\)</span> // <code>Uf_hat_double</code>: <span class="math inline">\(U_f(q_s^F,q_f^H)\)</span>
</li>
<li>
<code>Us_double_double</code>: <span class="math inline">\(U_s(q_s^F,q_f^F)\)</span> // <code>Uf_double_double</code>: <span class="math inline">\(U_f(q_s^F,q_f^F)\)</span>
</li>
</ul>
<p>Note that the above conventions for utility are the same as for depth (i.e., <code>ds_hat_double</code> <span class="math inline">\(\Leftrightarrow d_s(q_s^H,q_f^F)\)</span>).</p>
<p>The game is solved in terms of the side payments <span class="math inline">\(z\)</span>. The relationships between the manuscript and package naming are:</p>
<ul>
<li>
<span class="math inline">\(z_1\)</span>: <code>zMinSwiss</code>
</li>
<li>
<span class="math inline">\(z_2\)</span>: <code>zMaxFrench</code>
</li>
<li>
<span class="math inline">\(\hat z = z_1 - z_2\)</span>: <code>zRange &lt;- zMinSwiss - zMaxFrench</code>
</li>
</ul>
<p>A couple more input parameters should also be noted:</p>
<ul>
<li>
<span class="math inline">\(\beta\)</span> in the manuscript is simply <code>B</code> in the package</li>
<li>
<span class="math inline">\(e_1, e_2\)</span> in the manuscript is <code>es</code>, <code>ef</code> in the package</li>
</ul>
<p>Lastly, the package allows differences between <span class="math inline">\(D_{ir}\)</span> with a treaty (e.g., <code>DsrT</code>) and without a treaty (e.g., <code>DsrN</code>). The same goes for <span class="math inline">\(r_m\)</span> (<code>rmT</code> and <code>rmN</code>).</p>
<p>The remaining variables use a naming convention that directly follows from the manuscript, keeping in mind that the subscripts are changed (<span class="math inline">\(1 \to s\)</span> and <span class="math inline">\(2 \to f\)</span>).</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Gopal Penny.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
