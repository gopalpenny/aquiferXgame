<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Evaluate multiple treaty scenarios — evaluate_treaty_cases • genevoisgame</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Evaluate multiple treaty scenarios — evaluate_treaty_cases" />
<meta property="og:description" content="Evaluate whether or not the treaty will be made under multiple scenarios" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">genevoisgame</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/genevoisgame-vignette.html">Vignette: genevoisgame</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Evaluate multiple treaty scenarios</h1>
    
    <div class="hidden name"><code>evaluate_treaty_cases.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Evaluate whether or not the treaty will be made under multiple scenarios</p>
    </div>

    <pre class="usage"><span class='fu'>evaluate_treaty_cases</span>(<span class='no'>params_df</span>, <span class='kw'>return_criteria</span> <span class='kw'>=</span> <span class='st'>"qp"</span>,
  <span class='kw'>progress_bar</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>params_df</th>
      <td><p>Data.frame of parameters with each row sent to <code><a href='evaluate_treaty.html'>evaluate_treaty()</a></code>.</p></td>
    </tr>
    <tr>
      <th>return_criteria</th>
      <td><p>Character string containing letters that indicate output variables. See details.</p></td>
    </tr>
    <tr>
      <th>progress_bar</th>
      <td><p>Show a progress bar. Useful in unconfined aquifers for large N</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Returns a <code>tibble</code> containing z-values needed for the treaty
and whether or not there is a treaty (i.e., if zRange &gt; 0), as well as output specified by <code>return_criteria</code>.</p>
<p>If the aquifer in the game is confined (see <code><a href='check_params.html'>?check_params</a></code> for how aquifer type is determined)  the solution is
exact. If the aquifer is unconfined, the solution is calculated numerically using <code>multiroot</code>
from the <code>rootSolve</code> package, using default tolerance parameters. This means that there
could be small errors in the results for <code>zMinSwiss</code> and <code>zMaxFrench</code>. For unconfined aquifers,
<code>zRange</code> is rounded to the 6th decimal place to minimize the effect of numerical errors on
the treaty outcome. If necessary, it can be recalculated as <code>zRange = zMaxFrench - zMinSwiss</code>.</p>
<p>In unconfined aquifers, it is possible that the game converges on a result that allows the aquifer
to be fully depleted for as least one of the players (hi &lt; 0). In this case, the results will included
three additional columns:
<code>AD_fb,AD_nash,AD_cheat</code>, representing logical values that indicate in which scenario the aquifer was depleted
(first best, nash, or cheat). In the nonlinear game, this *should* only happen in one of two scenarios:</p><ol>
<li><p>A treaty is signed to maximize join utility, but a cheat pumps more and the aquifer
  is depleted for the other player. In this case, the treaty is set to "N", even if trust is equal to 1.</p></li>
<li><p>The numerical root finder jumps to a value where the aquifer is fully depleted.
  This is unlikely, as the initial guesses are set to minimize the change of this occurring.</p></li>
</ol>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Evaluate the treaty given multiple combinations of social, economic,
and geophysical parameters.
This function takes a data.frame of parameters,
evaluates each row to see if a treaty is signed,
and returns a tibble with the results and original params.</p>
<p>The parameter <code>return_criteria</code> can contain the following letters:</p><ul>
<li><p>p - will return only parameters different from default. Otherwise all parameters returned</p></li>
<li><p>a - return all parameters (i.e., it's redundant to include a AND p)</p></li>
<li><p>u - return utilities of each player</p></li>
<li><p>d - return depth to water table for each player</p></li>
</ul>

<p>Note that the cost
of pumping is linear for confined aquifers, and nonlinear for unconfined aquifers, with the
nonlinearity depending on the parameter l, with the key feature that the cost become infinite
as h -&gt; 0. For l = 0, the cost function is exponential and crosses 0 when h_i = dB_i. As l increases
towards 1, the solution becomes more linear when the water table is near the surface. When l == 1,
a linear solution is used and the cost remains linear even when the aquifer is fully depleted</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>genevoisgame</span>)
<span class='fu'>evaluate_treaty_cases</span>(<span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>rbind</a></span>(<span class='no'>example_params_confined</span>,<span class='no'>example_params_confined</span>))</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 2 x 10</span><span>
#&gt;   treaty zRange zMinSwiss zMaxFrench qshat qsstar qsdouble qfhat qfstar qfdouble
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>      </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>    </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>    </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'>1</span><span> Y      0.044</span><span style='text-decoration: underline;'>3</span><span>   -</span><span style='color: #BB0000;'>0.022</span><span style='color: #BB0000;text-decoration: underline;'>2</span><span>     0.022</span><span style='text-decoration: underline;'>2</span><span>  6.87   8.74     9.04  6.87   8.74     9.04
#&gt; </span><span style='color: #BCBCBC;'>2</span><span> Y      0.044</span><span style='text-decoration: underline;'>3</span><span>   -</span><span style='color: #BB0000;'>0.022</span><span style='color: #BB0000;text-decoration: underline;'>2</span><span>     0.022</span><span style='text-decoration: underline;'>2</span><span>  6.87   8.74     9.04  6.87   8.74     9.04</div><div class='input'><span class='fu'>evaluate_treaty_cases</span>(<span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>rbind</a></span>(<span class='no'>example_params_unconfined</span>,<span class='no'>example_params_unconfined</span>),<span class='st'>"qudp"</span>)</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 2 x 26</span><span>
#&gt;   treaty  zRange zMinSwiss zMaxFrench qshat qsstar qsdouble qfhat qfstar
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>    </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>      </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>    </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'>1</span><span> Y      0.009</span><span style='text-decoration: underline;'>54</span><span>   -</span><span style='color: #BB0000;'>0.023</span><span style='color: #BB0000;text-decoration: underline;'>6</span><span>    -</span><span style='color: #BB0000;'>0.014</span><span style='color: #BB0000;text-decoration: underline;'>1</span><span>  5.98   6.85     6.96  5.09   6.10
#&gt; </span><span style='color: #BCBCBC;'>2</span><span> Y      0.009</span><span style='text-decoration: underline;'>54</span><span>   -</span><span style='color: #BB0000;'>0.023</span><span style='color: #BB0000;text-decoration: underline;'>6</span><span>    -</span><span style='color: #BB0000;'>0.014</span><span style='color: #BB0000;text-decoration: underline;'>1</span><span>  5.98   6.85     6.96  5.09   6.10
#&gt; </span><span style='color: #949494;'># … with 17 more variables: qfdouble </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #949494;'>, Us_hat </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #949494;'>, Us_star </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #949494;'>,
#&gt; #   Us_double </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #949494;'>, Us_hat_double </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #949494;'>, Uf_hat </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #949494;'>, Uf_star </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #949494;'>,
#&gt; #   Uf_double </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #949494;'>, Uf_hat_double </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #949494;'>, ds_hat </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #949494;'>, ds_star </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #949494;'>,
#&gt; #   ds_double </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #949494;'>, ds_hat_double </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #949494;'>, df_hat </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #949494;'>, df_star </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #949494;'>,
#&gt; #   df_double </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #949494;'>, df_hat_double </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span></div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Gopal Penny.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


